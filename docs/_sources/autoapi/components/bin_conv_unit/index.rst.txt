:mod:`components.bin_conv_unit`
===============================

.. py:module:: components.bin_conv_unit


Module Contents
---------------


.. py:class:: BinConvUnit(bin_input=False, weights=[], **kwargs)

   Bases: :class:`base_component.BaseComponent`

   This class implements a block of binary convolutional unit used in this
   architecture. The block contains nine inputs from the input image channel,
   nine inputs from the kernel values, some control signals to the pipeline
   registers and an output representing a convolved pixel.

   The en_mult signal enables the multiplications with inputs and kernel
   values to be storaged in registers. The en_sum signal enables the calcule
   of the sums(organized in tree format) between the product of each calue
   calculated to be propagate to the outputs. The convolutions are maked using
   only the magnitude signal as in binary convolution networks.

   .. method:: rtl(self, clk, reset, en_mult, en_sum, input, output)


      This function implements the combinational and sequential blocks of
      this block.

      :param clk: clock signal
      :type clk: std_logic
      :param reset: reset signal
      :type reset: std_logic
      :param en_mult: enable signal
      :type en_mult: std_logic
      :param en_sum: enable signal
      :type en_sum: std_logic
      :param input: vector with the nine input values cancatenated, each value         should be an signed value with 16 bits width
      :type input: std_logic_vector
      :param output: the output value of the convolutions
      :type output: unsigned


   .. method:: get_signals(self)


      This function returns the signals necessairly to instantiate the rtl
      block and convert the python method to a vhdl file.

      :return: a dict specifying the input and outputs signals of the block.
      :rtype: dict of myhdl.Signal

      **Python definition of inputs and ouputs:**

      .. code-block:: python

          def get_signals(self):
              return {
                  "clk": Signal(False),
                  "reset": ResetSignal(0, active=1, isasync=1),
                  "en_mult": Signal(False),
                  "en_sum": Signal(False),
                  "input": Signal(intbv(0)[9*16:]),
                  "output": Signal(intbv(0)[16:])
              }

      **VHDL component generated:**

      .. code-block:: vhdl

          component BinConvUnit
              port (
                  clk: in std_logic;
                  reset: in std_logic;
                  en_mult: in std_logic;
                  en_sum: in std_logic;
                  input: in unsigned(143 downto 0);
                  output: out unsigned(15 downto 0)
              );
          end component BinConvUnit;



.. data:: name
   

   

