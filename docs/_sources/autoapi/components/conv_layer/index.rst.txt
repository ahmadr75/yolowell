:mod:`components.conv_layer`
============================

.. py:module:: components.conv_layer


Module Contents
---------------


.. py:class:: ConvLayer(size=3, channels=0, filters=0, binary=False, bin_input=False, bin_output=False, weights=[], **kwargs)

   Bases: :class:`base_component.BaseComponent`

   This class gather some MultiChannelConvUnits sharing the same inputs and
   makes your outputs availables to an external unit, probably a BufferLayer.
   The number MultiChannelConvUnits instantiated is this class is defined in
   the constants of the BaseComponent.

   :param filters: number of filters in this layer (outputs).
   :type filter: int
   :param channels: number of channels to be convolved (inputs)
   :type channels: int
   :param weights: array with weights to be distributed in conv units
   :type weights: List()
   :param binary: flag setting if will be used BinConvUnit or ConvUnit
   :type binary: bool
   :param bin_input: flag setting if the input is truncated to 1 bit
   :type bin_input: bool
   :param bin_output: flag setting if the output will be truncated to 1 bit
   :type bin_output: bool

   .. method:: rtl(self, clk, reset, input, output, en_mult, en_sum, en_channel, en_batch, en_act)


      This function implements the combinational and sequential blocks of
      this block.

      :param clk: clock signal
      :type clk: Signal()
      :param reset: reset signal
      :type reset: ResetSignal()
      :param en_mult: enable signal
      :type en_mult: Signal()
      :param en_sum: enable signal
      :type en_sum: Signal()
      :param en_channel: enable signal
      :type en_channel: Signal()
      :param en_batch: enable signal
      :type en_batch: Signal()
      :param en_act: enable signal
      :type en_act: Signal()
      :param input: vector with the nine input values concatenated, each value should be an signed value with 16 bits width
      :type input: Signal(intbv()[:])
      :param output: the output value of the convolutions
      :type output: Signal(intbv()[:])
      :return: logic of this block
      :rtype: @block method


   .. method:: get_signals(self)


      This function return the necessair signals to instantiate the rtl
      block and convert the python method to a vhdl file.

      :return: a dict specifying the input and outputs signals of the block.
      :rtype: dict of myhdl.Signal

      **Python definition of inputs and ouputs:**

      .. code-block:: python

          def get_signals(self):
              return {
                  "clk": Signal(False),
                  "reset": ResetSignal(0, active=1, isasync=1),
                  "input": Signal(intbv(0)[9*self.channels*16:]),
                  "output": Signal(intbv(0)[self.filters*16:]),
                  "en_mult": Signal(False),
                  "en_sum": Signal(False),
                  "en_channel": Signal(False),
                  "en_batch": Signal(False),
                  "en_act": Signal(False)
              }

      **VHDL component generated:**

      .. code-block:: vhdl

          component ConvLayer
              port (
                  clk        : in  std_logic;
                  reset      : in  std_logic;
                  input      : in  unsigned(9*self.channels*16 downto 0);
                  output     : out  unsigned(self.filters*16 downto 0);
                  en_mult    : in  std_logic;
                  en_sum     : in  std_logic;
                  en_channel : in  std_logic;
                  en_batch   : in  std_logic;
                  en_act     : in  std_logic
              );
          end component ConvLayer;



.. data:: name
   

   

